'use strict';

(function (root) {

	// Параметры слайдеров
	var dataSliders = {
		index: {
			arrows: true,
			dots: true,
			fade: true
		},
		specialist: {
			arrows: true,
			dots: true,
			slideToShow: 1
		},
		specialistspage: {
			slidesToShow: 3,
			slidesToScroll: 1,
			vertical: true,
			verticalSwiping: true,
			arrows: true,
			infinite: false,
			responsive: [{
				breakpoint: 769,
				settings: {
					vertical: false,
					slidesToShow: 1,
					slidesToScroll: 1
				}
			}]
		},
		certificate: {
			arrows: true,
			dots: true,
			slideToShow: 1
		},
		reviews: {
			arrows: true,
			dots: true,
			slideToShow: 1,
			fade: true
		},
		specialists: {
			arrows: true,
			dots: false,
			slidesToShow: 3,
			slidesToScroll: 3,
			variableWidth: true,
			centerMode: true
		},
		service: {
			arrows: true,
			dots: true,
			slidesToShow: 4,
			slidesToScroll: 1,
			variableWidth: true,
			infinite: false,
			responsive: [{
				breakpoint: 1001,
				settings: 'unslick'
			}]
		},
		serviceb: {
			arrows: true,
			dots: true,
			slidesToShow: 3,
			slidesToScroll: 1,
			variableWidth: true,
			infinite: false,
			responsive: [{
				breakpoint: 1001,
				settings: 'unslick'
			}]
		},
		calendar: {
			slidesToShow: 3,
			slidesToScroll: 1,
			arrows: false,
			vertical: true,
			verticalSwiping: true,
			infinite: false,
			draggable: false
		},
		time: {
			arrows: true,
			variableWidth: true
		}
	};

	function sliders() {

		// Активация слайдеров
		$('.slider').each(function (i, s) {
			var slider = $(s).data('slider'),
			    scroll = $(s).find('.slider__scroll').get(0);

			if (scroll) {
				var slides = $(s).find('.slider__slides').children().length - 2;

				$(scroll).find('span').css('height', 100 / slides + '%');

				$(s).find('.slider__slides').slick(dataSliders[slider]);

				$(s).find('.slider__slides').on('beforeChange', function (e, slick, currentSlide, nextSlide) {

					var step = 100 / slides * nextSlide;

					$(scroll).find('span').css('top', step + '%');
				});
			} else {
				$(s).find('.slider__slides').slick(dataSliders[slider]);
			}
		});
	}

	sliders();

	// Перестройка слайдеров при ресайзе окна
	function resizeSliders() {
		var sliders = $('[data-slider] .slider__slides');

		$(sliders).each(function (i, slider) {
			$(slider).slick('unslick');
			$(slider).slick(dataSliders[$(slider).parent().data('slider')]);
		});
	}

	$(window).on('resize', resizeSliders);

	// Скролл в слайдере

	$('.section__nav .arrow').on('click', function (e) {
		e.preventDefault();

		if ($(this).hasClass('arrow_down')) {
			fullpage_api.moveSectionDown();
		} else {
			fullpage_api.moveSectionUp();
		}
	});

	// Табы
	$('[data-tabs] > *').on('click', function (e) {
		e.preventDefault();

		$(this).parent().find('.active').removeClass('active');
		$(this).addClass('active');

		var data = $(this).parent().data('tabs'),
		    index = $(this).index(),
		    tab = $('[data-tabs-content="' + data + '"]').children().get(index);

		$('[data-tabs-content="' + data + '"] > *').hide();

		$(tab).show();

		var slider = $(tab).find('[data-slider] .slider__slides').get(0);

		$(slider).slick('unslick');
		$(slider).slick(dataSliders[$(slider).parent().data('slider')]);

		setTimeout(function () {
			$(tab).find('.slick-slide').first().find('div > li').trigger('click');
		}, 10);
	});

	$('[data-tabs]').each(function (i, tabs) {
		$(tabs).children().first().trigger('click');
	});

	$(document).on('click', '[data-show]', function () {
		var hide = $(this).find('[data-hide]').html(),
		    data = $(this).data('show');

		$(this).closest('.slider__slides').find('.active').removeClass('active');
		$(this).addClass('active').siblings('.active').removeClass('active');
		$('[data-show-view="' + data + '"]').empty().html(hide);
	});

	// Модалки

	if ($(window).width() > 1000) {
		new fullpage('#fullpage', {
			licenseKey: 'OPEN-SOURCE-GPLV3-LICENSE',
			scrollingSpeed: 1500,
			onLeave: function onLeave(origin, destination, direction) {
				$('.lepestok').addClass('animate');
				$('.fp-table').removeClass('down up');
				$('.fp-table').addClass(direction);
			},
			afterLoad: function afterLoad() {

				$('.lepestok').removeClass('animate');
			}
		});
	}

	// Услуги

	var colors = ['#acefaa', '#6fe6f1', '#f498be', '#8a8edd'];

	$('.s-item').each(function (i, service) {
		var img = $(service).data('img'),
		    color = colors[i % colors.length];

		if ($(this).closest('[data-colors]').get(0)) {
			$(service).css('background', color + ' url(' + img + ')');
		} else {
			$(service).css('background', 'url(' + img + ')');
		}
	});

	$('.select-service__list_price li').on('click', function () {
		$('.info').addClass('show');
	});

	$('.info .btn_back').on('click', function () {
		$('.info').removeClass('show');
	});

	// Календарь

	setTimeout(function () {
		$('.slider_calendar .slick-current .event').trigger('click');
		$('.slider_spec-page .slick-current .spec').trigger('click');
	}, 100);

	$('.event').on('click', function () {
		$('.event_active').removeClass('event_active');
		$(this).addClass('event_active');

		var index = $(this).closest('.slick-slide').index(),
		    detail = $('.event-detail').get(index);

		$(detail).show().siblings('hide');

		if (!detail) {
			$('.event-detail').hide();
		}
	});

	$('.slider__arrow').on('click', function () {
		var next,
		    slider = $(this).closest('.slider').find('.slider__slides');

		if ($(this).hasClass('slider__arrow_down')) {
			next = $('.event_active').closest('.slick-slide').next().get(0);

			if (next == undefined) return;

			$('.event_active').removeClass('event_active');
			$(next).find('.event').addClass('event_active');

			$(slider).slick('slickNext');
		} else {
			next = $('.event_active').closest('.slick-slide').prev().get(0);

			if (next == undefined) return;

			$('.event_active').removeClass('event_active');
			$(next).find('.event').addClass('event_active');

			$(slider).slick('slickPrev');
		}
	});

	$('.slider__scroll span').on('mousedown', function (e) {
		var t = this,
		    p = Number($(t).css('top').split('px')[0]),
		    h = $(t).parent().height() - $(t).height(),
		    start = e.clientY,
		    slider = $(this).closest('.slider').find('.slider__slides'),
		    slides = $(this).closest('.slider').find('.slick-track').children().length,
		    oneSlide = 100 / slides;

		$(window).on('mousemove', function (e) {
			var d = e.clientY - start + p;

			if (d >= h) {
				d = h;
			} else if (d <= 0) {
				d = 0;
			}

			$(t).css('top', d + 'px');

			var nextSlide = Math.round(d * 100 / h / oneSlide);

			$(slider).slick('slickGoTo', nextSlide);
		});
	});

	$(window).on('mouseup', function () {
		$(this).off('mousemove');
	});

	$('.spec').on('click', function () {
		$('.spec_active').removeClass('spec_active');
		$(this).addClass('spec_active');

		var index = $(this).closest('.slick-slide').index(),
		    detail = $('.spec-detail').get(index);

		$(detail).show().siblings('hide');

		if (!detail) {
			$('.spec-detail').hide();
		}
	});

	// Карта

	// var map;
	//
	// function initMap() {
	//   map = new google.maps.Map(document.getElementById('map'), {
	//     center: {lat: 52.517619, lng: 103.840673},
	//     zoom: 14,
	// 		disableDefaultUI: true
	//   });
	//
	// 	var marker = new google.maps.Marker({
	//     position: {lat: 52.517619, lng: 103.840673},
	//     map: map,
	//     title: 'Hello World!'
	//   });
	//
	// 	marker.setMap(map);
	// }
	//
	// if ($('#map').get(0)) initMap()

	// datepicker
	// пример с допустимыми датами

	var eventDates = [1, 9, 10, 12, 17, 22],
	    $picker = $('#datepicker');

	$picker.datepicker({
		onRenderCell: function onRenderCell(date, cellType) {
			var currentDate = date.getDate();

			if (cellType == 'day' && eventDates.indexOf(currentDate) != -1) {

				return {
					disabled: false
				};
			} else {
				return {
					disabled: true
				};
			}
		}
	});

	$('.time').on('click', function () {
		$(this).closest('.slick-list').find('.time_select').removeClass('time_select');
		$(this).addClass('time_select');
		console.log(this);
	});

	$('.service-list__toggle').on('click', function () {
		$(this).closest('.service-list__item').toggleClass('service-list__item_show').siblings().removeClass('service-list__item_show');
	});

	// timetable

	if ($('.timetable').get(0)) {
		$('.timetable__main .timetable__cell p').each(function (i, p) {
			var l = $(p).html().length;

			if (l > 28) {
				$(this).closest('.timetable__cell').addClass('timetable__cell_small');
			}
		});
	}

	// scroll

	var scrollNav = '<div class="scroll-nav"><button class="scroll-nav__arrow scroll-nav__arrow_down"></button><button class="scroll-nav__arrow scroll-nav__arrow_up"></button></div>';

	$('[data-simplebar]').each(function (i, scroll) {
		$(scroll).append(scrollNav);
	});

	$(document).on('mousedown', '.scroll-nav__arrow', function (e) {
		e.preventDefault();

		var s = $(this).closest('[data-simplebar]'),
		    content = $(s).find('.simplebar-scroll-content'),
		    scrollT = $(content).scrollTop(),
		    int;

		if ($(this).hasClass('scroll-nav__arrow_down')) {
			int = setInterval(function () {
				$(content).scrollTop(++scrollT);
			}, 5);

			$(this).on('mouseup', function () {
				clearInterval(int);
			});
		} else {
			int = setInterval(function () {
				$(content).scrollTop(--scrollT);
			}, 5);

			$(this).on('mouseup', function () {
				clearInterval(int);
			});
		}
	});

	// nav

	$('.nav__mob').on('click', function (e) {
		e.preventDefault();

		$(this).parent().toggleClass('nav_show');
	});

	$('.select').niceSelect();

	// mobile

	var w = $(window).width();

	$('.section__block_left .select-service__list li').on('click', function () {

		if (w <= 1000) {
			$('.section__block_right .select-service').show();
		}
	});
})(window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJyb290IiwiZGF0YVNsaWRlcnMiLCJpbmRleCIsImFycm93cyIsImRvdHMiLCJmYWRlIiwic3BlY2lhbGlzdCIsInNsaWRlVG9TaG93Iiwic3BlY2lhbGlzdHNwYWdlIiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJ2ZXJ0aWNhbCIsInZlcnRpY2FsU3dpcGluZyIsImluZmluaXRlIiwicmVzcG9uc2l2ZSIsImJyZWFrcG9pbnQiLCJzZXR0aW5ncyIsImNlcnRpZmljYXRlIiwicmV2aWV3cyIsInNwZWNpYWxpc3RzIiwidmFyaWFibGVXaWR0aCIsImNlbnRlck1vZGUiLCJzZXJ2aWNlIiwic2VydmljZWIiLCJjYWxlbmRhciIsImRyYWdnYWJsZSIsInRpbWUiLCJzbGlkZXJzIiwiJCIsImVhY2giLCJpIiwicyIsInNsaWRlciIsImRhdGEiLCJzY3JvbGwiLCJmaW5kIiwiZ2V0Iiwic2xpZGVzIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJjc3MiLCJzbGljayIsIm9uIiwiZSIsImN1cnJlbnRTbGlkZSIsIm5leHRTbGlkZSIsInN0ZXAiLCJyZXNpemVTbGlkZXJzIiwicGFyZW50Iiwid2luZG93IiwicHJldmVudERlZmF1bHQiLCJoYXNDbGFzcyIsImZ1bGxwYWdlX2FwaSIsIm1vdmVTZWN0aW9uRG93biIsIm1vdmVTZWN0aW9uVXAiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwidGFiIiwiaGlkZSIsInNob3ciLCJzZXRUaW1lb3V0IiwiZmlyc3QiLCJ0cmlnZ2VyIiwidGFicyIsImRvY3VtZW50IiwiaHRtbCIsImNsb3Nlc3QiLCJzaWJsaW5ncyIsImVtcHR5Iiwid2lkdGgiLCJmdWxscGFnZSIsImxpY2Vuc2VLZXkiLCJzY3JvbGxpbmdTcGVlZCIsIm9uTGVhdmUiLCJvcmlnaW4iLCJkZXN0aW5hdGlvbiIsImRpcmVjdGlvbiIsImFmdGVyTG9hZCIsImNvbG9ycyIsImltZyIsImNvbG9yIiwiZGV0YWlsIiwibmV4dCIsInVuZGVmaW5lZCIsInByZXYiLCJ0IiwicCIsIk51bWJlciIsInNwbGl0IiwiaCIsImhlaWdodCIsInN0YXJ0IiwiY2xpZW50WSIsIm9uZVNsaWRlIiwiZCIsIk1hdGgiLCJyb3VuZCIsIm9mZiIsImV2ZW50RGF0ZXMiLCIkcGlja2VyIiwiZGF0ZXBpY2tlciIsIm9uUmVuZGVyQ2VsbCIsImRhdGUiLCJjZWxsVHlwZSIsImN1cnJlbnREYXRlIiwiZ2V0RGF0ZSIsImluZGV4T2YiLCJkaXNhYmxlZCIsImNvbnNvbGUiLCJsb2ciLCJ0b2dnbGVDbGFzcyIsImwiLCJzY3JvbGxOYXYiLCJhcHBlbmQiLCJjb250ZW50Iiwic2Nyb2xsVCIsInNjcm9sbFRvcCIsImludCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIm5pY2VTZWxlY3QiLCJ3Il0sIm1hcHBpbmdzIjoiOztBQUFBLENBQUMsVUFBU0EsSUFBVCxFQUFlOztBQUVmO0FBQ0EsS0FBSUMsY0FBYztBQUNqQkMsU0FBTztBQUNOQyxXQUFRLElBREY7QUFFTkMsU0FBTSxJQUZBO0FBR05DLFNBQU07QUFIQSxHQURVO0FBTWpCQyxjQUFZO0FBQ1hILFdBQVEsSUFERztBQUVYQyxTQUFNLElBRks7QUFHWEcsZ0JBQWE7QUFIRixHQU5LO0FBV2pCQyxtQkFBaUI7QUFDaEJDLGlCQUFjLENBREU7QUFFaEJDLG1CQUFnQixDQUZBO0FBR2hCQyxhQUFVLElBSE07QUFJaEJDLG9CQUFpQixJQUpEO0FBS2hCVCxXQUFRLElBTFE7QUFNaEJVLGFBQVUsS0FOTTtBQU9oQkMsZUFBWSxDQUNYO0FBQ0NDLGdCQUFZLEdBRGI7QUFFQ0MsY0FBVTtBQUNUTCxlQUFVLEtBREQ7QUFFVEYsbUJBQWMsQ0FGTDtBQUdUQyxxQkFBZ0I7QUFIUDtBQUZYLElBRFc7QUFQSSxHQVhBO0FBNkJqQk8sZUFBYTtBQUNaZCxXQUFRLElBREk7QUFFWkMsU0FBTSxJQUZNO0FBR1pHLGdCQUFhO0FBSEQsR0E3Qkk7QUFrQ2pCVyxXQUFTO0FBQ1JmLFdBQVEsSUFE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QUFGLEVBQVVvQixLQUFWLEVBQVI7O0FBRUF6QyxHQUFFLCtDQUFGLEVBQW1EYyxFQUFuRCxDQUFzRCxPQUF0RCxFQUErRCxZQUFXOztBQUV6RSxNQUFJK0UsS0FBSyxJQUFULEVBQWU7QUFDZDdGLEtBQUUsdUNBQUYsRUFBMkMrQixJQUEzQztBQUNBO0FBQ0QsRUFMRDtBQU9BLENBOWJELEVBOGJHVixNQTliSCIsImZpbGUiOiJzY3JpcHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8vINCf0LDRgNCw0LzQtdGC0YDRiyDRgdC70LDQudC00LXRgNC+0LJcblx0dmFyIGRhdGFTbGlkZXJzID0ge1xuXHRcdGluZGV4OiB7XG5cdFx0XHRhcnJvd3M6IHRydWUsXG5cdFx0XHRkb3RzOiB0cnVlLFxuXHRcdFx0ZmFkZTogdHJ1ZSxcblx0XHR9LFxuXHRcdHNwZWNpYWxpc3Q6IHtcblx0XHRcdGFycm93czogdHJ1ZSxcblx0XHRcdGRvdHM6IHRydWUsXG5cdFx0XHRzbGlkZVRvU2hvdzogMVxuXHRcdH0sXG5cdFx0c3BlY2lhbGlzdHNwYWdlOiB7XG5cdFx0XHRzbGlkZXNUb1Nob3c6IDMsXG5cdFx0XHRzbGlkZXNUb1Njcm9sbDogMSxcblx0XHRcdHZlcnRpY2FsOiB0cnVlLFxuXHRcdFx0dmVydGljYWxTd2lwaW5nOiB0cnVlLFxuXHRcdFx0YXJyb3dzOiB0cnVlLFxuXHRcdFx0aW5maW5pdGU6IGZhbHNlLFxuXHRcdFx0cmVzcG9uc2l2ZTogW1xuXHRcdFx0XHR7XG5cdFx0XHRcdFx0YnJlYWtwb2ludDogNzY5LFxuXHRcdFx0XHRcdHNldHRpbmdzOiB7XG5cdFx0XHRcdFx0XHR2ZXJ0aWNhbDogZmFsc2UsXG5cdFx0XHRcdFx0XHRzbGlkZXNUb1Nob3c6IDEsXG5cdFx0XHRcdFx0XHRzbGlkZXNUb1Njcm9sbDogMVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XVxuXHRcdH0sXG5cdFx0Y2VydGlmaWNhdGU6IHtcblx0XHRcdGFycm93czogdHJ1ZSxcblx0XHRcdGRvdHM6IHRydWUsXG5cdFx0XHRzbGlkZVRvU2hvdzogMVxuXHRcdH0sXG5cdFx0cmV2aWV3czoge1xuXHRcdFx0YXJyb3dzOiB0cnVlLFxuXHRcdFx0ZG90czogdHJ1ZSxcblx0XHRcdHNsaWRlVG9TaG93OiAxLFxuXHRcdFx0ZmFkZTogdHJ1ZVxuXHRcdH0sXG5cdFx0c3BlY2lhbGlzdHM6IHtcblx0XHRcdGFycm93czogdHJ1ZSxcblx0XHRcdGRvdHM6IGZhbHNlLFxuXHRcdFx0c2xpZGVzVG9TaG93OiAzLFxuXHRcdFx0c2xpZGVzVG9TY3JvbGw6IDMsXG5cdFx0XHR2YXJpYWJsZVdpZHRoOiB0cnVlLFxuXHRcdFx0Y2VudGVyTW9kZTogdHJ1ZSxcblx0XHR9LFxuXHRcdHNlcnZpY2U6IHtcblx0XHRcdGFycm93czogdHJ1ZSxcblx0XHRcdGRvdHM6IHRydWUsXG5cdFx0XHRzbGlkZXNUb1Nob3c6IDQsXG5cdFx0XHRzbGlkZXNUb1Njcm9sbDogMSxcblx0XHRcdHZhcmlhYmxlV2lkdGg6IHRydWUsXG5cdFx0XHRpbmZpbml0ZTogZmFsc2UsXG5cdFx0XHRyZXNwb25zaXZlOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRicmVha3BvaW50OiAxMDAxLFxuXHRcdFx0XHRcdHNldHRpbmdzOiAndW5zbGljaydcblx0XHRcdFx0fVxuXHRcdFx0XVxuXHRcdH0sXG5cdFx0c2VydmljZWI6IHtcblx0XHRcdGFycm93czogdHJ1ZSxcblx0XHRcdGRvdHM6IHRydWUsXG5cdFx0XHRzbGlkZXNUb1Nob3c6IDMsXG5cdFx0XHRzbGlkZXNUb1Njcm9sbDogMSxcblx0XHRcdHZhcmlhYmxlV2lkdGg6IHRydWUsXG5cdFx0XHRpbmZpbml0ZTogZmFsc2UsXG5cdFx0XHRyZXNwb25zaXZlOiBbXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRicmVha3BvaW50OiAxMDAxLFxuXHRcdFx0XHRcdHNldHRpbmdzOiAndW5zbGljaydcblx0XHRcdFx0fVxuXHRcdFx0XVxuXHRcdH0sXG5cdFx0Y2FsZW5kYXI6IHtcblx0XHRcdHNsaWRlc1RvU2hvdzogMyxcblx0XHRcdHNsaWRlc1RvU2Nyb2xsOiAxLFxuXHRcdFx0YXJyb3dzOiBmYWxzZSxcblx0XHRcdHZlcnRpY2FsOiB0cnVlLFxuXHRcdFx0dmVydGljYWxTd2lwaW5nOiB0cnVlLFxuXHRcdFx0aW5maW5pdGU6ZmFsc2UsXG5cdFx0XHRkcmFnZ2FibGU6IGZhbHNlXG5cdFx0fSxcblx0XHR0aW1lOiB7XG5cdFx0XHRhcnJvd3M6IHRydWUsXG5cdFx0XHR2YXJpYWJsZVdpZHRoOiB0cnVlXG5cdFx0fVxuXHR9O1xuXG5cdGZ1bmN0aW9uIHNsaWRlcnMoKSB7XG5cblx0XHQvLyDQkNC60YLQuNCy0LDRhtC40Y8g0YHQu9Cw0LnQtNC10YDQvtCyXG5cdFx0JCgnLnNsaWRlcicpLmVhY2goZnVuY3Rpb24oaSwgcykge1xuXHRcdFx0dmFyIHNsaWRlciA9ICQocykuZGF0YSgnc2xpZGVyJyksXG5cdFx0XHRcdFx0c2Nyb2xsID0gJChzKS5maW5kKCcuc2xpZGVyX19zY3JvbGwnKS5nZXQoMCk7XG5cblx0XHRcdGlmIChzY3JvbGwpIHtcblx0XHRcdFx0dmFyIHNsaWRlcyA9ICQocykuZmluZCgnLnNsaWRlcl9fc2xpZGVzJykuY2hpbGRyZW4oKS5sZW5ndGgtMjtcblxuXHRcdFx0XHQkKHNjcm9sbCkuZmluZCgnc3BhbicpLmNzcygnaGVpZ2h0JywgMTAwIC8gc2xpZGVzKyclJyk7XG5cblx0XHRcdFx0JChzKS5maW5kKCcuc2xpZGVyX19zbGlkZXMnKS5zbGljayhkYXRhU2xpZGVyc1tzbGlkZXJdKTtcblxuXHRcdFx0XHQkKHMpLmZpbmQoJy5zbGlkZXJfX3NsaWRlcycpLm9uKCdiZWZvcmVDaGFuZ2UnLCBmdW5jdGlvbihlLCBzbGljaywgY3VycmVudFNsaWRlLCBuZXh0U2xpZGUpe1xuXG5cdFx0XHRcdFx0dmFyIHN0ZXAgPSAoMTAwIC8gc2xpZGVzKSAqIG5leHRTbGlkZVxuXG5cdFx0XHRcdCAgJChzY3JvbGwpLmZpbmQoJ3NwYW4nKS5jc3MoJ3RvcCcsIHN0ZXArJyUnKVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0JChzKS5maW5kKCcuc2xpZGVyX19zbGlkZXMnKS5zbGljayhkYXRhU2xpZGVyc1tzbGlkZXJdKTtcblx0XHRcdH1cblxuXHRcdH0pO1xuXHR9XG5cblx0c2xpZGVycygpO1xuXG5cdC8vINCf0LXRgNC10YHRgtGA0L7QudC60LAg0YHQu9Cw0LnQtNC10YDQvtCyINC/0YDQuCDRgNC10YHQsNC50LfQtSDQvtC60L3QsFxuXHRmdW5jdGlvbiByZXNpemVTbGlkZXJzKCkge1xuXHRcdHZhciBzbGlkZXJzID0gJCgnW2RhdGEtc2xpZGVyXSAuc2xpZGVyX19zbGlkZXMnKTtcblxuXHRcdCQoc2xpZGVycykuZWFjaChmdW5jdGlvbihpLCBzbGlkZXIpIHtcblx0XHRcdCQoc2xpZGVyKS5zbGljaygndW5zbGljaycpO1xuXHRcdFx0JChzbGlkZXIpLnNsaWNrKGRhdGFTbGlkZXJzWyQoc2xpZGVyKS5wYXJlbnQoKS5kYXRhKCdzbGlkZXInKV0pXG5cdFx0fSlcblx0fVxuXG5cdCQod2luZG93KS5vbigncmVzaXplJywgcmVzaXplU2xpZGVycyk7XG5cblx0Ly8g0KHQutGA0L7Qu9C7INCyINGB0LvQsNC50LTQtdGA0LVcblxuXHQkKCcuc2VjdGlvbl9fbmF2IC5hcnJvdycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRpZiAoJCh0aGlzKS5oYXNDbGFzcygnYXJyb3dfZG93bicpKSB7XG5cdFx0XHRmdWxscGFnZV9hcGkubW92ZVNlY3Rpb25Eb3duKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZ1bGxwYWdlX2FwaS5tb3ZlU2VjdGlvblVwKCk7XG5cdFx0fVxuXHR9KVxuXG5cblx0Ly8g0KLQsNCx0Ytcblx0JCgnW2RhdGEtdGFic10gPiAqJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdCQodGhpcykucGFyZW50KCkuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHQkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuXHRcdHZhciBkYXRhID0gJCh0aGlzKS5wYXJlbnQoKS5kYXRhKCd0YWJzJyksXG5cdFx0XHRcdGluZGV4ID0gJCh0aGlzKS5pbmRleCgpLFxuXHRcdFx0XHR0YWIgPSAkKCdbZGF0YS10YWJzLWNvbnRlbnQ9XCInK2RhdGErJ1wiXScpLmNoaWxkcmVuKCkuZ2V0KGluZGV4KTtcblxuXHRcdCQoJ1tkYXRhLXRhYnMtY29udGVudD1cIicrZGF0YSsnXCJdID4gKicpLmhpZGUoKTtcblxuXHRcdCQodGFiKS5zaG93KCk7XG5cblx0XHR2YXIgc2xpZGVyID0gJCh0YWIpLmZpbmQoJ1tkYXRhLXNsaWRlcl0gLnNsaWRlcl9fc2xpZGVzJykuZ2V0KDApO1xuXG5cdFx0JChzbGlkZXIpLnNsaWNrKCd1bnNsaWNrJyk7XG5cdFx0JChzbGlkZXIpLnNsaWNrKGRhdGFTbGlkZXJzWyQoc2xpZGVyKS5wYXJlbnQoKS5kYXRhKCdzbGlkZXInKV0pXG5cblx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0JCh0YWIpLmZpbmQoJy5zbGljay1zbGlkZScpLmZpcnN0KCkuZmluZCgnZGl2ID4gbGknKS50cmlnZ2VyKCdjbGljaycpO1xuXHRcdH0sIDEwKVxuXG5cdH0pO1xuXG5cdCQoJ1tkYXRhLXRhYnNdJykuZWFjaChmdW5jdGlvbihpLCB0YWJzKSB7XG5cdFx0JCh0YWJzKS5jaGlsZHJlbigpLmZpcnN0KCkudHJpZ2dlcignY2xpY2snKTtcblx0fSlcblxuXHQkKGRvY3VtZW50KS5vbignY2xpY2snLCAnW2RhdGEtc2hvd10nLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgaGlkZSA9ICQodGhpcykuZmluZCgnW2RhdGEtaGlkZV0nKS5odG1sKCksXG5cdFx0XHRcdGRhdGEgPSAkKHRoaXMpLmRhdGEoJ3Nob3cnKTtcblxuXHRcdCQodGhpcykuY2xvc2VzdCgnLnNsaWRlcl9fc2xpZGVzJykuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHQkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHQkKCdbZGF0YS1zaG93LXZpZXc9XCInK2RhdGErJ1wiXScpLmVtcHR5KCkuaHRtbChoaWRlKTtcblxuXHR9KVxuXG5cblx0Ly8g0JzQvtC00LDQu9C60LhcblxuXHRpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiAxMDAwKSB7XG5cdFx0bmV3IGZ1bGxwYWdlKCcjZnVsbHBhZ2UnLCB7XG5cdFx0XHRsaWNlbnNlS2V5OiAnT1BFTi1TT1VSQ0UtR1BMVjMtTElDRU5TRScsXG5cdFx0XHRzY3JvbGxpbmdTcGVlZDogMTUwMCxcblx0XHRcdG9uTGVhdmU6IGZ1bmN0aW9uKG9yaWdpbiwgZGVzdGluYXRpb24sIGRpcmVjdGlvbikge1xuXHRcdFx0XHQkKCcubGVwZXN0b2snKS5hZGRDbGFzcygnYW5pbWF0ZScpO1xuXHRcdFx0XHQkKCcuZnAtdGFibGUnKS5yZW1vdmVDbGFzcygnZG93biB1cCcpXG5cdFx0XHRcdCQoJy5mcC10YWJsZScpLmFkZENsYXNzKGRpcmVjdGlvbik7XG5cdFx0XHR9LFxuXHRcdFx0YWZ0ZXJMb2FkOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0XHQkKCcubGVwZXN0b2snKS5yZW1vdmVDbGFzcygnYW5pbWF0ZScpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblxuXHQvLyDQo9GB0LvRg9Cz0LhcblxuXHR2YXIgY29sb3JzID0gWycjYWNlZmFhJywnIzZmZTZmMScsJyNmNDk4YmUnLCcjOGE4ZWRkJ107XG5cblx0JCgnLnMtaXRlbScpLmVhY2goZnVuY3Rpb24oaSwgc2VydmljZSkge1xuXHRcdHZhciBpbWcgPSAkKHNlcnZpY2UpLmRhdGEoJ2ltZycpLFxuXHRcdFx0XHRjb2xvciA9IGNvbG9yc1tpICUgY29sb3JzLmxlbmd0aF07XG5cblx0XHRpZiAoJCh0aGlzKS5jbG9zZXN0KCdbZGF0YS1jb2xvcnNdJykuZ2V0KDApKSB7XG5cdFx0XHQkKHNlcnZpY2UpLmNzcygnYmFja2dyb3VuZCcsIGNvbG9yKycgdXJsKCcraW1nKycpJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdCQoc2VydmljZSkuY3NzKCdiYWNrZ3JvdW5kJywgJ3VybCgnK2ltZysnKScpO1xuXHRcdH1cblx0fSk7XG5cblx0JCgnLnNlbGVjdC1zZXJ2aWNlX19saXN0X3ByaWNlIGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JCgnLmluZm8nKS5hZGRDbGFzcygnc2hvdycpO1xuXHR9KVxuXG5cdCQoJy5pbmZvIC5idG5fYmFjaycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdCQoJy5pbmZvJykucmVtb3ZlQ2xhc3MoJ3Nob3cnKTtcblx0fSlcblxuXHQvLyDQmtCw0LvQtdC90LTQsNGA0YxcblxuXHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdCQoJy5zbGlkZXJfY2FsZW5kYXIgLnNsaWNrLWN1cnJlbnQgLmV2ZW50JykudHJpZ2dlcignY2xpY2snKTtcblx0XHQkKCcuc2xpZGVyX3NwZWMtcGFnZSAuc2xpY2stY3VycmVudCAuc3BlYycpLnRyaWdnZXIoJ2NsaWNrJyk7XG5cdH0sIDEwMCk7XG5cblx0JCgnLmV2ZW50Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JCgnLmV2ZW50X2FjdGl2ZScpLnJlbW92ZUNsYXNzKCdldmVudF9hY3RpdmUnKTtcblx0XHQkKHRoaXMpLmFkZENsYXNzKCdldmVudF9hY3RpdmUnKTtcblxuXHRcdHZhciBpbmRleCA9ICQodGhpcykuY2xvc2VzdCgnLnNsaWNrLXNsaWRlJykuaW5kZXgoKSxcblx0XHRcdFx0ZGV0YWlsID0gJCgnLmV2ZW50LWRldGFpbCcpLmdldChpbmRleCk7XG5cblx0XHQkKGRldGFpbCkuc2hvdygpLnNpYmxpbmdzKCdoaWRlJyk7XG5cblx0XHRpZiAoIWRldGFpbCkge1xuXHRcdFx0JCgnLmV2ZW50LWRldGFpbCcpLmhpZGUoKTtcblx0XHR9XG5cdH0pXG5cblx0JCgnLnNsaWRlcl9fYXJyb3cnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV4dCxcblx0XHRcdFx0c2xpZGVyID0gJCh0aGlzKS5jbG9zZXN0KCcuc2xpZGVyJykuZmluZCgnLnNsaWRlcl9fc2xpZGVzJyk7XG5cblx0XHRpZiAoJCh0aGlzKS5oYXNDbGFzcygnc2xpZGVyX19hcnJvd19kb3duJykpIHtcblx0XHRcdG5leHQgPSAkKCcuZXZlbnRfYWN0aXZlJykuY2xvc2VzdCgnLnNsaWNrLXNsaWRlJykubmV4dCgpLmdldCgwKTtcblxuXHRcdFx0aWYgKG5leHQgPT0gdW5kZWZpbmVkKSByZXR1cm47XG5cblx0XHRcdCQoJy5ldmVudF9hY3RpdmUnKS5yZW1vdmVDbGFzcygnZXZlbnRfYWN0aXZlJyk7XG5cdFx0XHQkKG5leHQpLmZpbmQoJy5ldmVudCcpLmFkZENsYXNzKCdldmVudF9hY3RpdmUnKTtcblxuXHRcdFx0JChzbGlkZXIpLnNsaWNrKCdzbGlja05leHQnKTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHRuZXh0ID0gJCgnLmV2ZW50X2FjdGl2ZScpLmNsb3Nlc3QoJy5zbGljay1zbGlkZScpLnByZXYoKS5nZXQoMCk7XG5cblx0XHRcdGlmIChuZXh0ID09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG5cdFx0XHQkKCcuZXZlbnRfYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2V2ZW50X2FjdGl2ZScpO1xuXHRcdFx0JChuZXh0KS5maW5kKCcuZXZlbnQnKS5hZGRDbGFzcygnZXZlbnRfYWN0aXZlJyk7XG5cblx0XHRcdCQoc2xpZGVyKS5zbGljaygnc2xpY2tQcmV2Jyk7XG5cdFx0fVxuXHR9KVxuXG5cdCQoJy5zbGlkZXJfX3Njcm9sbCBzcGFuJykub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uKGUpIHtcblx0XHR2YXIgdCA9IHRoaXMsXG5cdFx0XHRcdHAgPSBOdW1iZXIoJCh0KS5jc3MoJ3RvcCcpLnNwbGl0KCdweCcpWzBdKSxcblx0XHRcdFx0aCA9ICQodCkucGFyZW50KCkuaGVpZ2h0KCkgLSAkKHQpLmhlaWdodCgpLFxuXHRcdFx0XHRzdGFydCA9IGUuY2xpZW50WSxcblx0XHRcdFx0c2xpZGVyID0gJCh0aGlzKS5jbG9zZXN0KCcuc2xpZGVyJykuZmluZCgnLnNsaWRlcl9fc2xpZGVzJyksXG5cdFx0XHRcdHNsaWRlcyA9ICQodGhpcykuY2xvc2VzdCgnLnNsaWRlcicpLmZpbmQoJy5zbGljay10cmFjaycpLmNoaWxkcmVuKCkubGVuZ3RoLFxuXHRcdFx0XHRvbmVTbGlkZSA9IDEwMCAvIHNsaWRlcztcblxuXHRcdCQod2luZG93KS5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0dmFyIGQgPSBlLmNsaWVudFkgLSBzdGFydCArIHA7XG5cblx0XHRcdGlmIChkID49IGgpIHtcblx0XHRcdFx0ZCA9IGhcblx0XHRcdH0gZWxzZSBpZiAoZCA8PSAwKSB7XG5cdFx0XHRcdGQgPSAwXG5cdFx0XHR9XG5cblx0XHRcdCQodCkuY3NzKCd0b3AnLCBkKydweCcpO1xuXG5cdFx0XHR2YXIgbmV4dFNsaWRlID0gTWF0aC5yb3VuZCgoKGQqMTAwKS9oKS9vbmVTbGlkZSk7XG5cblx0XHRcdCQoc2xpZGVyKS5zbGljaygnc2xpY2tHb1RvJywgbmV4dFNsaWRlKTtcblx0XHR9KVxuXHR9KVxuXG5cdCQod2luZG93KS5vbignbW91c2V1cCcsIGZ1bmN0aW9uKCkge1xuXHRcdCQodGhpcykub2ZmKCdtb3VzZW1vdmUnKTtcblx0fSlcblxuXHQkKCcuc3BlYycpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuXHRcdCQoJy5zcGVjX2FjdGl2ZScpLnJlbW92ZUNsYXNzKCdzcGVjX2FjdGl2ZScpO1xuXHRcdCQodGhpcykuYWRkQ2xhc3MoJ3NwZWNfYWN0aXZlJyk7XG5cblx0XHR2YXIgaW5kZXggPSAkKHRoaXMpLmNsb3Nlc3QoJy5zbGljay1zbGlkZScpLmluZGV4KCksXG5cdFx0XHRcdGRldGFpbCA9ICQoJy5zcGVjLWRldGFpbCcpLmdldChpbmRleCk7XG5cblx0XHQkKGRldGFpbCkuc2hvdygpLnNpYmxpbmdzKCdoaWRlJyk7XG5cblx0XHRpZiAoIWRldGFpbCkge1xuXHRcdFx0JCgnLnNwZWMtZGV0YWlsJykuaGlkZSgpO1xuXHRcdH1cblx0fSlcblxuXHQvLyDQmtCw0YDRgtCwXG5cblx0Ly8gdmFyIG1hcDtcblx0Ly9cbiAgLy8gZnVuY3Rpb24gaW5pdE1hcCgpIHtcbiAgLy8gICBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xuICAvLyAgICAgY2VudGVyOiB7bGF0OiA1Mi41MTc2MTksIGxuZzogMTAzLjg0MDY3M30sXG4gIC8vICAgICB6b29tOiAxNCxcblx0Ly8gXHRcdGRpc2FibGVEZWZhdWx0VUk6IHRydWVcbiAgLy8gICB9KTtcblx0Ly9cblx0Ly8gXHR2YXIgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XG5cdC8vICAgICBwb3NpdGlvbjoge2xhdDogNTIuNTE3NjE5LCBsbmc6IDEwMy44NDA2NzN9LFxuXHQvLyAgICAgbWFwOiBtYXAsXG5cdC8vICAgICB0aXRsZTogJ0hlbGxvIFdvcmxkISdcblx0Ly8gICB9KTtcblx0Ly9cblx0Ly8gXHRtYXJrZXIuc2V0TWFwKG1hcCk7XG4gIC8vIH1cblx0Ly9cblx0Ly8gaWYgKCQoJyNtYXAnKS5nZXQoMCkpIGluaXRNYXAoKVxuXG5cdC8vIGRhdGVwaWNrZXJcblx0Ly8g0L/RgNC40LzQtdGAINGBINC00L7Qv9GD0YHRgtC40LzRi9C80Lgg0LTQsNGC0LDQvNC4XG5cblx0dmFyIGV2ZW50RGF0ZXMgPSBbMSwgOSwgMTAsIDEyLCAxNywgMjJdLFxuICAgIFx0JHBpY2tlciA9ICQoJyNkYXRlcGlja2VyJyk7XG5cblx0JHBpY2tlci5kYXRlcGlja2VyKHtcblx0ICAgIG9uUmVuZGVyQ2VsbDogZnVuY3Rpb24gKGRhdGUsIGNlbGxUeXBlKSB7XG5cdCAgICAgICAgdmFyIGN1cnJlbnREYXRlID0gZGF0ZS5nZXREYXRlKCk7XG5cblx0ICAgICAgICBpZiAoY2VsbFR5cGUgPT0gJ2RheScgJiYgZXZlbnREYXRlcy5pbmRleE9mKGN1cnJlbnREYXRlKSAhPSAtMSkge1xuXG5cdCAgICAgICAgICAgIHJldHVybiB7XG5cdCAgICAgICAgICAgICAgICBkaXNhYmxlZDogZmFsc2Vcblx0ICAgICAgICAgICAgfVxuXHQgICAgICAgIH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdGRpc2FibGVkOiB0cnVlXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHQgICAgfVxuXHR9KVxuXG5cdCQoJy50aW1lJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS5jbG9zZXN0KCcuc2xpY2stbGlzdCcpLmZpbmQoJy50aW1lX3NlbGVjdCcpLnJlbW92ZUNsYXNzKCd0aW1lX3NlbGVjdCcpO1xuXHRcdCQodGhpcykuYWRkQ2xhc3MoJ3RpbWVfc2VsZWN0Jyk7XG5cdFx0Y29uc29sZS5sb2codGhpcylcblx0fSlcblxuXHQkKCcuc2VydmljZS1saXN0X190b2dnbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0XHQkKHRoaXMpLmNsb3Nlc3QoJy5zZXJ2aWNlLWxpc3RfX2l0ZW0nKS50b2dnbGVDbGFzcygnc2VydmljZS1saXN0X19pdGVtX3Nob3cnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdzZXJ2aWNlLWxpc3RfX2l0ZW1fc2hvdycpO1xuXHR9KVxuXG5cdC8vIHRpbWV0YWJsZVxuXG5cdGlmICgkKCcudGltZXRhYmxlJykuZ2V0KDApKSB7XG5cdFx0JCgnLnRpbWV0YWJsZV9fbWFpbiAudGltZXRhYmxlX19jZWxsIHAnKS5lYWNoKGZ1bmN0aW9uKGksIHApIHtcblx0XHRcdHZhciBsID0gJChwKS5odG1sKCkubGVuZ3RoO1xuXG5cdFx0XHRpZiAobCA+IDI4KSB7XG5cdFx0XHRcdCQodGhpcykuY2xvc2VzdCgnLnRpbWV0YWJsZV9fY2VsbCcpLmFkZENsYXNzKCd0aW1ldGFibGVfX2NlbGxfc21hbGwnKVxuXHRcdFx0fVxuXHRcdH0pXG5cdH1cblxuXHQvLyBzY3JvbGxcblxuXHR2YXIgc2Nyb2xsTmF2ID0gJzxkaXYgY2xhc3M9XCJzY3JvbGwtbmF2XCI+PGJ1dHRvbiBjbGFzcz1cInNjcm9sbC1uYXZfX2Fycm93IHNjcm9sbC1uYXZfX2Fycm93X2Rvd25cIj48L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwic2Nyb2xsLW5hdl9fYXJyb3cgc2Nyb2xsLW5hdl9fYXJyb3dfdXBcIj48L2J1dHRvbj48L2Rpdj4nO1xuXG5cdCQoJ1tkYXRhLXNpbXBsZWJhcl0nKS5lYWNoKGZ1bmN0aW9uKGksIHNjcm9sbCkge1xuXHRcdCQoc2Nyb2xsKS5hcHBlbmQoc2Nyb2xsTmF2KTtcblx0fSlcblxuXHQkKGRvY3VtZW50KS5vbignbW91c2Vkb3duJywgJy5zY3JvbGwtbmF2X19hcnJvdycsIGZ1bmN0aW9uKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHR2YXIgcyA9ICQodGhpcykuY2xvc2VzdCgnW2RhdGEtc2ltcGxlYmFyXScpLFxuXHRcdFx0XHRjb250ZW50ID0gJChzKS5maW5kKCcuc2ltcGxlYmFyLXNjcm9sbC1jb250ZW50JyksXG5cdFx0XHRcdHNjcm9sbFQgPSAkKGNvbnRlbnQpLnNjcm9sbFRvcCgpLFxuXHRcdFx0XHRpbnQ7XG5cblx0XHRpZiAoJCh0aGlzKS5oYXNDbGFzcygnc2Nyb2xsLW5hdl9fYXJyb3dfZG93bicpKSB7XG5cdFx0XHRpbnQgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcblx0XHRcdFx0JChjb250ZW50KS5zY3JvbGxUb3AoKytzY3JvbGxUKVxuXHRcdFx0fSwgNSlcblxuXHRcdFx0JCh0aGlzKS5vbignbW91c2V1cCcsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRjbGVhckludGVydmFsKGludClcblx0XHRcdH0pXG5cdFx0fSBlbHNlIHtcblx0XHRcdGludCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQkKGNvbnRlbnQpLnNjcm9sbFRvcCgtLXNjcm9sbFQpXG5cdFx0XHR9LCA1KVxuXG5cdFx0XHQkKHRoaXMpLm9uKCdtb3VzZXVwJywgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNsZWFySW50ZXJ2YWwoaW50KVxuXHRcdFx0fSlcblx0XHR9XG5cdH0pXG5cblx0Ly8gbmF2XG5cblx0JCgnLm5hdl9fbW9iJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblxuXHRcdCQodGhpcykucGFyZW50KCkudG9nZ2xlQ2xhc3MoJ25hdl9zaG93Jylcblx0fSlcblxuXHQkKCcuc2VsZWN0JykubmljZVNlbGVjdCgpO1xuXG5cdC8vIG1vYmlsZVxuXG5cdHZhciB3ID0gJCh3aW5kb3cpLndpZHRoKCk7XG5cblx0JCgnLnNlY3Rpb25fX2Jsb2NrX2xlZnQgLnNlbGVjdC1zZXJ2aWNlX19saXN0IGxpJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cblx0XHRpZiAodyA8PSAxMDAwKSB7XG5cdFx0XHQkKCcuc2VjdGlvbl9fYmxvY2tfcmlnaHQgLnNlbGVjdC1zZXJ2aWNlJykuc2hvdygpO1xuXHRcdH1cblx0fSlcblxufSkod2luZG93KTtcbiJdfQ==
